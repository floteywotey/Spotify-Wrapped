{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Your Wrapped</title>
    <link rel="stylesheet" href="{% static 'SpotifyWrapped/duo_results.css' %}">
</head>
<body>
<div class="header">
    <form class="home" action="{% url 'home' %}" method="post">
        {% csrf_token %}
        <button class="home-button" aria-label="Home" title="Home">
            <img src="{% static 'SpotifyWrapped/images/icons/close_presentation.svg' %}" height="30px" width="30px">
        </button>
    </form>
</div>
<div class="cards">
   <div id="card-container">
       <div id="card" class="card">Original Card</div>
    </div>
</div>
    <script>
       document.addEventListener("DOMContentLoaded", () => {
  const originalCard = document.getElementById("card");
  const container = document.getElementById("card-container");

  originalCard.addEventListener("click", () => {
    // Hide the original card for the split animation
    originalCard.style.opacity = "0";

    // Create the two split cards
    const card1 = document.createElement("div");
    card1.classList.add("card", "split-card", "info1");
    card1.textContent = "Info 1";

    const card2 = document.createElement("div");
    card2.classList.add("card", "split-card", "info2");
    card2.textContent = "Info 2";

    // Add them to the container
    container.appendChild(card1);
    container.appendChild(card2);

    // Initial split animation delay
    setTimeout(() => {
      card1.style.opacity = "1";
      card2.style.opacity = "1";
    }, 50); // Make sure the cards appear after creation

    // Recombine the cards after a delay
    setTimeout(() => {
      card1.classList.add("recombine");
      card2.classList.add("recombine");

      // After recombination, remove the split cards and show the original card again
      setTimeout(() => {
        card1.remove();
        card2.remove();
        originalCard.style.opacity = "1"; // Show the original card again
      }, 1000); // Match the recombine animation duration
    }, 3000); // Delay before recombination starts
  });
});
    </script>
</body>
</html>